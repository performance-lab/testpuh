<details  class="toc">
  <summary style="font-size: 24px; color: #fff; cursor: pointer;">{{.Get "title"}}</summary>
  <p>
    <ul id="toc">
    </ul>
  </p>
</details>
<script>
  document.addEventListener("DOMContentLoaded", function() {
    const toc = document.getElementById("toc");
    const headers = document.querySelectorAll("h2");
    
    headers.forEach((header) => {
      const li = document.createElement("li");
      const a = document.createElement("a");
      const headerId = header.id || header.textContent.trim().toLowerCase().replace(/\s+/g, '-');
      
      if (!header.id) {
        header.id = headerId;
      }
      
      a.href = `#${headerId}`;
      a.textContent = header.textContent;
      li.appendChild(a);
      toc.appendChild(li);
    });

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function(e) {
        e.preventDefault();
        const targetId = this.getAttribute('href').substring(1);
        const targetElement = document.getElementById(targetId);
        const offsetTop = targetElement.getBoundingClientRect().top + window.pageYOffset - 80;

        window.scrollTo({
          top: offsetTop,
          behavior: 'smooth'
        });
      });
    });
  });
</script>